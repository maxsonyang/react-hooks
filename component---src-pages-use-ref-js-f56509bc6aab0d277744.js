(self.webpackChunkreact_hooks=self.webpackChunkreact_hooks||[]).push([[260],{4385:function(e,t,n){"use strict";n.d(t,{ib:function(){return r},nl:function(){return u},B$:function(){return l}});var a=n(7294);function r(e){var t=(0,a.useState)({data:null,loading:!0}),n=t[0],r=t[1];return(0,a.useEffect)((function(){r((function(e){return{data:e.data,loading:!0}})),fetch(e).then((function(e){return e.text()})).then((function(e){r({data:e,loading:!1})}))}),[e,r]),n}function u(){var e,t,n,r,u=(e="http://numbersapi.com/42/trivia",t=(0,a.useState)({data:null,loading:!0}),n=t[0],r=t[1],(0,a.useEffect)((function(){r((function(e){return{data:e.data,loading:!0}})),fetch(e).then((function(e){return e.text()})).then((function(e){setTimeout((function(){r({data:e,loading:!1})}),4e3)}))}),[e,r]),n),l=u.data,c=u.loading;return a.createElement("div",null,a.createElement("div",null,c?"loading very slowly...":l))}function l(){var e,t,n,r,u,l=(e="http://numbersapi.com/42/trivia",t=(0,a.useRef)(!0),n=(0,a.useState)({data:null,loading:!0}),r=n[0],u=n[1],(0,a.useEffect)((function(){return function(){t.current=!1}})),(0,a.useEffect)((function(){u((function(e){return{data:e.data,loading:!0}})),fetch(e).then((function(e){return e.text()})).then((function(e){setTimeout((function(){t.current||u({data:e,loading:!1})}),4e3)}))}),[e,u]),r),c=l.data,o=l.loading;return a.createElement("div",null,a.createElement("div",null,o?"loading very slowly...":c))}},2564:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var a=n(7294);var r=function(){var e=(0,a.useRef)(0);return console.log("Render count: ",e.current++),a.createElement("div",null,"I have been rendered ",""+e.current," ",1==e.current?"time":"times")},u=n(4385);var l=function(){var e=(0,a.useState)(""),t=e[0],n=e[1],l=(0,a.useRef)(),c=(0,a.useState)(!0),o=c[0],i=c[1],s=(0,a.useState)(!1),f=s[0],d=s[1],m=(0,a.useState)(!0),h=m[0],g=m[1];return a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"page-header"},a.createElement("h1",null,"useRef"),a.createElement("div",{className:"page-subheader"},"Provides a reference to, well, anything it seems.")),a.createElement("div",{className:"hooks-content"},a.createElement("h2",null,"Basic useRef Example."),a.createElement("div",{className:"blurb"},"An input field that has a reference associated with it."),a.createElement("div",null,a.createElement("input",{name:"name",value:t,onChange:function(e){return n(e.target.value)},ref:l}),a.createElement("button",{onClick:function(){l.current.focus()}},"Click"))),a.createElement("div",{className:"hooks-content"},a.createElement("h2",null,"Basic useRef Example."),a.createElement("div",{className:"blurb"},"Reference that shows the amount of times its been rendered without triggering a re-render itself."),a.createElement("button",{onClick:function(){return i((function(e){return!e}))}},"Toggle Show Counter."),a.createElement("div",null,o&&a.createElement(r,null))),a.createElement("div",{className:"hooks-content"},a.createElement("h2",null,"Buggy Slow Fetch"),a.createElement("div",{className:"blurb"},"A buggy fetch to demonstrate a use case of useRef. Unmounting the component before the data has finished fetching will cause a memory leak. Keep your console open, and you might need to refresh to see this."),a.createElement("button",{onClick:function(){return d((function(e){return!e}))}},"Toggle Show Buggy Fetch"),a.createElement("div",null,f&&a.createElement(u.nl,null))),a.createElement("div",{className:"hooks-content"},a.createElement("h2",null,"Safe Buggy Slow Fetch"),a.createElement("div",{className:"blurb"},"Addresses the above issue with useRef. We add a flag that indicates whether or not the component is current. In conjunction with useEffect, we provide a clean-up function that sets this flag to false if the component is about to unmount, preventing the error from earlier from happening."),a.createElement("button",{onClick:function(){return g((function(e){return!e}))}},"Toggle Show Buggy Fetch"),a.createElement("div",null,h&&a.createElement(u.B$,null))))}}}]);
//# sourceMappingURL=component---src-pages-use-ref-js-f56509bc6aab0d277744.js.map